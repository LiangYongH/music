(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca148f16"],{"1eb9":function(t,i,n){},"49a8":function(t,i,n){"use strict";n.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"searchPage"},[a("div",{staticClass:"input"},[a("img",{attrs:{src:n("6944"),alt:""},on:{click:function(i){return t.$router.go(-1)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],attrs:{type:"text",name:"",id:"",placeholder:"大家都在搜"},domProps:{value:t.inputVal},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.submit(i)},input:[function(i){i.target.composing||(t.inputVal=i.target.value)},function(i){""==t.inputVal?t.isReturn=!1:t.isReturn=!0}],click:function(i){""!=t.inputVal&&(t.isReturn=!0)}}})]),a("div",{staticClass:"searchShade"}),t.isReturn?a("div",{staticClass:"return"},[a("ul",[a("span",[t._v('搜索:"'+t._s(t.inputVal)+'"'),a("b",{on:{click:function(i){t.isReturn=!1,t.isDetail=!1}}})]),a("div",{staticClass:"shade"},[t._v("1")]),t.isLoading?a("Loading"):t._e(),t._l(t.content,(function(i,n){return a("li",{key:n,on:{click:function(n){t.SearchChange(i.name),t.isReturn=!1,t.isDetail=!0,t.submit()}}},[a("p",[a("i"),t._v(t._s(i.name))])])}))],2)]):t._e(),t.isDetail?t._e():a("div",{staticClass:"history"},[a("span",{staticClass:"left"},[t._v("历史")]),a("div",[a("p",{style:{width:t.pWidth+"px"}},t._l(t.allHislist,(function(i,n){return a("span",{key:n,on:{click:function(n){t.inputVal=i,t.isReturn=!0}}},[t._v(t._s(i))])})),0)]),a("i",{on:{click:t.delSubmit}},[t._v("删除")])]),t.isDetail?a("SearchDetail",{attrs:{searchData:t.searchVal},on:{addMusic:function(i){return t.$emit("addMusicList",i)},play:function(i){return t.$emit("play",i)}}}):t._e(),t.isDetail?t._e():a("HotSearch",{on:{hotSearch:function(i){t.inputVal=i,t.submit(i),t.isReturn=!0},click:function(i){t.SearchChange(t.inputVal),t.isReturn=!0,t.isDetail=!0}}})],1)},s=[],e=(n("c740"),n("a434"),function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"hot"},[t._m(0),t.isLoading?n("Loading"):t._e(),n("ul",t._l(t.content,(function(i,a){return n("li",{key:a,on:{click:function(n){return t.$emit("hotSearch",i.searchWord)}}},[n("span",{staticClass:"id"},[t._v(t._s(a+1))]),n("span",{staticClass:"content"},[t._v(t._s(i.searchWord))]),n("span",{staticClass:"icon"},[n("img",{attrs:{src:i.iconUrl,alt:""}})])])})),0)],1)}),c=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("p",{staticClass:"top"},[n("span",[t._v("热搜榜")])])}],r=n("3a5e"),l={name:"HotSearch",data:function(){return{content:[],isLoading:!0}},components:{Loading:r["a"]},created:function(){var t=this;this.$axios.get("/search/hot/detail").then((function(t){return t.data.data})).then((function(i){t.content=i,t.isLoading=!1}))}},o=l,u=(n("fe0f"),n("2877")),d=Object(u["a"])(o,e,c,!1,null,"cacab520",null),h=d.exports,f=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"box"},[a("div",{staticClass:"playMent"},[a("div",{on:{click:function(i){return t.$emit("addMusic",t.dataNewSong)}}},[a("img",{attrs:{src:n("3130"),alt:""}}),t._m(0)])]),a("div",{staticClass:"list"},[a("ul",t._l(t.data,(function(i,n){return a("li",{key:n,style:{borderColor:t.isActive==n?"red":""},on:{click:function(a){t.$emit("play",{al:{picUrl:i.album.artist.img1v1Url},name:i.name,ar:[{name:i.artists[0].name}],id:i.id},t.isActive=n)}}},[a("span",{staticClass:"left",style:{color:t.isActive==n?"red":""}},[t._v(t._s(n+1))]),a("div",{staticClass:"content"},[a("p",[t._v(t._s(i.name))]),a("p",[t._v(t._s(i.artists[0].name)+" - "+t._s(i.album.name))])]),t._m(1,!0)])})),0)]),t.isLoading?a("Loading"):t._e()],1)},p=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("p",[t._v("播放全部"),n("span",[t._v("(搜索结果)")])])},function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"icon"},[n("span")])}],g=(n("b0c0"),{name:"SearchDetail",components:{Loading:r["a"]},data:function(){return{data:[],isActive:null,isLoading:!0,itemData:{},dataNewSong:[]}},props:{searchData:{type:String,default:function(){return""}}},computed:{},watch:{searchData:function(){var t=this;this.data=[],this.isLoading=!0,void 0!=this.searchData&&this.$axios.get("/search?keywords="+this.searchData).then((function(t){return t.data.result.songs})).then((function(i){t.data=i,t.isLoading=!1}))}},created:function(){var t=this;this.data=[],this.isLoading=!0,void 0!=this.searchData&&this.$axios.get("/search?keywords="+this.searchData).then((function(t){return t.data.result.songs})).then((function(i){t.data=i,t.isLoading=!1;for(var n=[],a=0;a<t.data.length;a++)n.push({al:{picUrl:i[a].album.artist.img1v1Url},name:i[a].name,ar:[{name:i[a].artists[0].name}],id:i[a].id});t.dataNewSong=n}))},methods:{loadMusic:function(){}}}),m=g,v=(n("b1cc"),Object(u["a"])(m,f,p,!1,null,"fba5f07e",null)),A=v.exports,_={name:"SearchPage",components:{HotSearch:h,SearchDetail:A,Loading:r["a"]},data:function(){return{pWidth:1e3,content:{},inputVal:"",isReturn:!1,isDetail:!1,searchVal:"",allHislist:[],isLoading:!0}},methods:{SearchChange:function(t){this.searchVal=t},delSubmit:function(){localStorage.clear(),this.allHislist=[]},submit:function(){var t=this;if(""!=this.inputVal){var i=this.allHislist.findIndex((function(i){return i==t.inputVal}));-1!=i&&this.allHislist.splice(i,1),this.allHislist.unshift(this.inputVal),this.allHislist.length>11&&this.allHislist.splice(10,1),localStorage.allHislist=JSON.stringify(this.allHislist);for(var n=0,a=0;a<this.allHislist.length;a++)n+=120;this.pWidth=n}}},watch:{inputVal:function(){var t=this;this.isLoading=!0,""!=this.inputVal&&this.$axios.get("/search?keywords="+this.inputVal).then((function(t){return t.data.result.songs})).then((function(i){t.content=i,t.isLoading=!1}))}},created:function(){var t=localStorage.allHislist;t&&(this.allHislist=JSON.parse(t))}},C=_,y=(n("a1e7"),Object(u["a"])(C,a,s,!1,null,"94d67c10",null));i["default"]=y.exports},6944:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABdklEQVRYR+3WsUoDQRDG8Zl0aXyKq1zyKJY2KRSCCCoEURARtFEREVQIqCBB0CIQWx/ASrCeb2x8l6ycGDg3l+Rubzdpkn7z/93sZTdMc/7wnPu0AHhPwBizzMznRNQF8Oa7lV6ANF6r1frWWmOt3VHVu5kBsnFmPhORY994uq7UBJwnv1TVwyrxUgAnfq2q+1XjhQHZOBF1ALRDxAsBnPg9gO1Q8akA54V7FJHNkPGJAOfJnwC0QsfHApz4C4C1GPFcgDP2nog0Y8VHAEmSLNXr9Y/0hCOi9whhcX9B/w4iY0zCzN8Rwr9fycyfg8Ggpapfw8bISdhoNFattf2/BScichoLNPYlzCKI6AjARSzE2LvAQRwAuIqBmHgZOduxJyI3oRFTb0NnEm0AnZCIqYA05iC2ADyEQhQC5CA2AHRDIAoDXIS1dl1Vn6siSgFyEE1V7VVBlAbkbMfKzP8VDxFEdEtEuyLy6jsFrwn4xvLWLQBzn8APvgvLIUgUUWcAAAAASUVORK5CYII="},a1e7:function(t,i,n){"use strict";n("1eb9")},b1cc:function(t,i,n){"use strict";n("caf0")},c740:function(t,i,n){"use strict";var a=n("23e7"),s=n("b727").findIndex,e=n("44d2"),c="findIndex",r=!0;c in[]&&Array(1)[c]((function(){r=!1})),a({target:"Array",proto:!0,forced:r},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),e(c)},caf0:function(t,i,n){},e4f7:function(t,i,n){},fe0f:function(t,i,n){"use strict";n("e4f7")}}]);
//# sourceMappingURL=chunk-ca148f16.0614abbb.js.map